extends layout 
block header 
  include z_back_header.pug
block content 
  //- h1= title

  style.
    .foot_icon_wrap{
    display: none;
    }
  .container
    ul#errors.signup_error

    form(action="" method="POST" enctype="multipart/form-data") 
      table.signup_form
        tbody
          //- For validation check
          input(type="hidden", name="update", value=(user_business===undefined ? "false" : "true") , required)          
          //- Displayed only sign up
          if (undefined===user_business)
            tr
              td
                label(for='') 아이디
              td
                input.full_input#user_id(type='text' name='username' value="" , required)
                p.signup_txt 아이디는 영어 소문자와 숫자만 사용 가능합니다. 길이는 최소 6자 이상이어야 합니다.
            tr 
              td 
                label(for="") 비밀번호
              td 
                input.full_input(type="password" name="password" value="" , required) 
            tr 
              td 
                label(for="") 비밀번호 확인
              td 
                input.full_input(type="password" name="password_confirm" value="" , required)
                p.signup_txt 비밀번호는 최소 1개 이상의 영어 대문자 및 소문자, 숫자가 있어야합니다. 길이는 최소 8자 이상이어야 합니다.
          
          tr 
            td 
              label(for="") 회사이름
            td 
              input.full_input(type="text" name="name" value=(undefined==user_business ? '' : user_business.name) , required) 
          tr 
            td 
              label(for="") 핸드폰번호
            td 
              input.full_input(type="number" name="phone" value=(undefined==user_business ? '' : user_business.phone) , required)
          tr 
            td 
              label(for="") 이메일
            td 
              input.full_input(type="text" name="email" value=(undefined==user_business ? '' : user_business.email) , required)
          tr 
            td 
              label(for="") 회사소개 
            td 
              textarea#policy.full_input(name="about", cols="30", rows="10" , required)=(undefined==user_business ? '' : user_business.about)
          tr 
            td 
              label(for="") 포트폴리오(image)
            td 
              input.full_input#file_portfolio(type="file", name="portfolio", accept="image/*")
              input.full_input#file_portfolio(type="file", name="portfolio", accept="image/*")
              input.full_input#file_portfolio(type="file", name="portfolio", accept="image/*")
              if (user_business && files)
                each file in files 
                  p= file
          tr 
            td 
              label(for="") 계신지역
            td 
              select.full_input(name="city" , required) 
                each city in cities 
                  option(value=city._id, selected=(undefined!=user_business && user_business.city==city._id.toString() ? 'selected' : false))= city.name 
      div.form-group.clearfix
        each platform in platforms 
          div.platform_checkdiv
            input(type="checkbox", name="platform", value=platform._id, checked=platform.checked) 
            label(for="") #{platform.name}
      if (user_business===undefined)
        p.sign_accepted_txt 심사를 통해 승인이 완료되면 가입하신 핸드폰으로 SMS문자를 통하여 알려 드립니다.

      p 
        button.signup_btn(type="submit") 확인

  script(src="/javascript/business_sign_required.js")
  script(src="/scripts/form.js") 